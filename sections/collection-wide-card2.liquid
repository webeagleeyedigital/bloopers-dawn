{% comment %}
  Section: Two banners
  - Desktop (>=992px): two banners side by side (left/right)
  - Mobile/Tablet (<992px): banners stacked vertically (top/down)
{% endcomment %}

{%- style -%}
  .two-banners-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.5 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.5 | round: 0 }}px;
  }

  @media screen and (min-width: 768px) {
    .two-banners-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<section id="two-banners-{{ section.id }}" class="two-banners two-banners-{{ section.id }}-padding">
  <div class="two-banners__inner page-width">
    <div class="two-banners__layout">
      {% for block in section.blocks %}
        {% assign banner_id = block.id | replace: '_', '' | downcase %}

        {% style %}
          .two-banners__item-{{ banner_id }} {
            position: relative;
            overflow: hidden;
            border-radius: {{ block.settings.border_radius }}px;
          }

          .two-banners__image-{{ banner_id }} {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
          }

          .two-banners__content-{{ banner_id }} {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: {{ block.settings.content_vertical_align }};
            align-items: {{ block.settings.content_horizontal_align }};
            padding: {{ block.settings.content_padding }}px;
            text-align: {{ block.settings.text_align }};
            gap: 8px;
          }

          .two-banners__heading-{{ banner_id }} {
            margin: 0;
            color: {{ block.settings.heading_color }};
            font-size: {{ block.settings.heading_size }}px;
          }

          .two-banners__text-{{ banner_id }} {
            margin: 0;
            color: {{ block.settings.text_color }};
            font-size: {{ block.settings.text_size }}px;
          }

          .two-banners__link-{{ banner_id }} {
            margin-top: 8px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 999px;
            background-color: {{ block.settings.button_background }};
            color: {{ block.settings.button_text_color }};
            font-size: 14px;
            text-decoration: none;
            transition: background-color 0.3s ease;
          }

          .two-banners__link-{{ banner_id }}:hover {
            background-color: {{ block.settings.button_hover_background }};
          }
        {% endstyle %}

        <article class="two-banners__item two-banners__item-{{ banner_id }}" {{ block.shopify_attributes }}>
          {% if block.settings.link_url != blank %}
            <a href="{{ block.settings.link_url }}" class="two-banners__link-wrapper">
          {% endif %}

          {% if block.settings.image %}
            <img
              class="two-banners__image-{{ banner_id }}"
              src="{{ block.settings.image | image_url: width: 1200 }}"
              alt="{{ block.settings.image.alt | escape }}"
              loading="lazy"
              width="{{ block.settings.image.width }}"
              height="{{ block.settings.image.height }}"
            >
          {% else %}
            {{ 'image' | placeholder_svg_tag: 'two-banners__image-placeholder' }}
          {% endif %}

          <div class="two-banners__content two-banners__content-{{ banner_id }}">
            {% if block.settings.heading != blank %}
              <h2 class="two-banners__heading-{{ banner_id }}">{{ block.settings.heading }}</h2>
            {% endif %}
            {% if block.settings.text != blank %}
              <p class="two-banners__text-{{ banner_id }}">{{ block.settings.text }}</p>
            {% endif %}
            {% if block.settings.link_label != blank and block.settings.link_url != blank %}
              <span class="two-banners__link-{{ banner_id }}">{{ block.settings.link_label }}</span>
            {% endif %}
          </div>

          {% if block.settings.link_url != blank %}
            </a>
          {% endif %}
        </article>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Two banners",
  "tag": "section",
  "class": "two-banners-wrapper",
  "settings": [
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 40
    }
  ],
  "blocks": [
    {
      "type": "banner",
      "name": "Banner",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Banner heading"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text",
          "default": "Add more details about your banner here."
        },
        {
          "type": "text",
          "id": "link_label",
          "label": "Button label",
          "default": "Shop now"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Button link"
        },
        {
          "type": "range",
          "id": "border_radius",
          "min": 0,
          "max": 60,
          "step": 2,
          "unit": "px",
          "label": "Image border radius",
          "default": 24
        },
        {
          "type": "range",
          "id": "content_padding",
          "min": 8,
          "max": 60,
          "step": 4,
          "unit": "px",
          "label": "Content padding",
          "default": 24
        },
        {
          "type": "select",
          "id": "content_vertical_align",
          "label": "Content vertical alignment",
          "options": [
            { "value": "flex-start", "label": "Top" },
            { "value": "center", "label": "Center" },
            { "value": "flex-end", "label": "Bottom" }
          ],
          "default": "center"
        },
        {
          "type": "select",
          "id": "content_horizontal_align",
          "label": "Content horizontal alignment",
          "options": [
            { "value": "flex-start", "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "flex-end", "label": "Right" }
          ],
          "default": "flex-start"
        },
        {
          "type": "select",
          "id": "text_align",
          "label": "Text alignment",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "right", "label": "Right" }
          ],
          "default": "left"
        },
        {
          "type": "color",
          "id": "heading_color",
          "label": "Heading color",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text color",
          "default": "#ffffff"
        },
        {
          "type": "range",
          "id": "heading_size",
          "min": 14,
          "max": 40,
          "step": 2,
          "unit": "px",
          "label": "Heading size",
          "default": 26
        },
        {
          "type": "range",
          "id": "text_size",
          "min": 12,
          "max": 24,
          "step": 1,
          "unit": "px",
          "label": "Text size",
          "default": 15
        },
        {
          "type": "color",
          "id": "button_background",
          "label": "Button background",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_hover_background",
          "label": "Button hover background",
          "default": "#f5f5f5"
        },
        {
          "type": "color",
          "id": "button_text_color",
          "label": "Button text color",
          "default": "#000000"
        }
      ]
    }
  ],
  "max_blocks": 2,
  "presets": [
    {
      "name": "Two banners",
      "blocks": [
        { "type": "banner" },
        { "type": "banner" }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
  .two-banners {
    width: 100%;
  }

  .two-banners__layout {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  /* Desktop: left-right layout */
  @media screen and (min-width: 992px) {
    .two-banners__layout {
      flex-direction: row;
      gap: 24px;
    }
    .two-banners__item {
      flex: 1 1 0;
    }
  }
{% endstylesheet %}
